<?php/*The cart class puts items into and out of the shopping cart, by adding them to a session.What is interesting about this class is the values are sent via a get statement yet they are not shown in the url.You can see why on lines 39 and 61 where the page is redirected.*/class Cart{    private $products;        //transfers the products array (array of objects) from the index page to this class.    public function addProductsArray($products)    {        $this->products = $products;    }		//adds items to the session    public function addItem()    {                //checks to make sure the product id is between 1 and 3.        if (isset($_GET['productId']) and $_GET['productId'] >= 1 and $_GET['productId'] <= 3)        {            //cast the product id to an integer from a string            $productId = (int) $_GET['productId'];                        //If the session global array does not have that product ID then add it, this prevents            //duplicates            if (!isset($_SESSION["cart"][$productId]))            {                 //Adds the product id to the session global array, notice I have to use the Product class methods                 $_SESSION["cart"][$productId] = $this->products[$productId];            }        }        //closes the session from further writing        session_write_close();        //redirects the page to the indext page, this takes the get statement out of the url        header("Location: index.php");    }	//This method removes the items    public function removeItem()    {        //checks to make sure the id is between 1 and 3        if (isset($_GET['productId']) and $_GET['productId'] >= 1 and $_GET['productId'] <= 3)        {            //cast the product id to an integer from a string            $productId = (int) $_GET['productId'];                        //if the product id is in the session remove it.            if (isset($_SESSION['cart'][$productId]))            {                //removes the product from the session                unset($_SESSION['cart'][$productId]);            }        }        //closes the session from further writing        session_write_close();        //redirects the page to the indext page, this takes the get statement out of the url        header("Location: index.php");    }	//This function displays the cart    public function displayCart()    {        $cart =  '<h1>Your Shopping Cart</h1>';        $cart .= '<dl>';        $totalPrice = 0;        //The global session is an associative array        foreach($_SESSION["cart"] as $product)        {                    //adds all the prices of the shopping cart products          $totalPrice += $product->getPrice();          //displays the name          $cart .= '<dt>'.$product->getName().'</dt>';          //displays the price plus two decimals          $cart .= '<dd>'.number_format($product->getPrice(), 2);          //sends a get statement to remove product from cart          $cart .= '<a href="index.php?action=removeItem&productId='.$product->getId().'">Remove Item</a>            </dd>';        }        $cart .= '<dt>Cart Total:</dt>';        $cart .= '<dd><strong>'.number_format($totalPrice,2).'</strong></dd>';        $cart .= '</dl>';        $cart .= '<h1>Product list</h1>';        $cart .= '<dl>';        //loops through the products array (remember this is an array of objects) and gets the object contents based upon the        //methods called        foreach($this->products as $product)        {            $cart .= '<dt>'.$product->getName().'</dt>';            $cart .= '<dd>'.number_format($product->getPrice(), 2);            //sends a get statment to add product to cart            $cart .= '<a href="index.php?action=addItem&amp;productId='.$product->getId().'">Add Item</a></dd>';        }               $cart .= '</dl>';    	//returns the cart to be displayed    return $cart;    }}?>